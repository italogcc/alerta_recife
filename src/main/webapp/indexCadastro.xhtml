<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Alerta Recife</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!-- CSS -->
        <h:outputStylesheet library="css" name="frontend/index.css" />
        <h:outputStylesheet library="css" name="frontend/cadastro.css" />
        <h:outputStylesheet library="css" name="frontend/bootstrap.min.css" />
        <!-- JavaScript -->
        <h:outputScript library="js" name="frontend/jquery.min.js" />
        <h:outputScript library="js" name="frontend/bootstrap.min.js" />
        <h:outputScript library="js" name="frontend/recaptcha-api.js" />
        
    </h:head>
    <h:body onload="#{Login.preencherBanco()}">
        <nav class="navbar navbar-expand-lg navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <img id="logonImg" src="resources/imagens/logo.png"/>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <button type="button" class="btn" onclick='window.location = "index.jsp"' >
                        Voltar
                    </button>
                    <button type="button" class="btn btn-success" onclick='window.location = "indexLogin.xhtml"'>
                        Login
                    </button>  
                </div>
            </div>
        </nav>
        <div id="mainContainer" class="container-fluid">
            <h:graphicImage library="imagens" name="logo.png" id="logoARecife" class="logoARecife" title="Alerta Recife"/>
            <h4>Alerta Recife</h4>
            Cadastro de novos usu√°rios
            <h:form id="cadForm">
                <div id="cadPanel">
                    <h:panelGrid id="formcadastro">

                        <!--email senha primeiro_nome ultimo_nome habilitado-->                
                        <h:outputText value="Email:" />
                        <p:inputText id="email" maxlength="100" required="true"
                                     value="#{Cadastro.email}" binding="#{Cadastro.campoInvalido}"
                                     requiredMessage=" O campo email deve ser preenchido!" />      
                        <p:message class="message" for="email"/>

                        <h:outputText value="Senha:" />

                        <p:password id="senha" maxlength="200" required="true" 
                                    value="#{Cadastro.senha}" feedback="true"
                                    requiredMessage=" O campo senha deve ser preenchido!"
                                    promptLabel="Digite uma senha" weakLabel="Senha fraca"
                                    goodLabel="Senha boa" strongLabel="Senha forte" />
                        <p:message class="message" for="senha"/>

                        <h:outputText value="Nome:" />
                        <p:inputText id="primeiro_nome" maxlength="50" required="true" 
                                     requiredMessage=" O campo nome deve ser preenchido!"
                                     value="#{Cadastro.nome}" />
                        <h:message class="message" for="primeiro_nome"/>

                        <h:outputText value="Sobrenome:" />
                        <p:inputText id="ultimo_nome" maxlength="50" required="true"
                                     requiredMessage=" O campo sobrenome deve ser preenchido!"
                                     value="#{Cadastro.sobrenome}" />
                        <h:message class="message" for="ultimo_nome"/>              

                    </h:panelGrid>
                </div>
                <p></p>
                <h:outputLabel id="recaptcha">
                    <div class="g-recaptcha" data-sitekey="6LcA4BETAAAAAI-bIVcCocgXyiLZ43bCJ-JyCvWV"></div>
                </h:outputLabel>
                <br></br>
                <p:commandButton action="#{Cadastro.cadastrar}" ajax="false" value="Cadastrar" />          
                <h:message for="recaptcha" id="captcha" binding="#{Cadastro.mybutton}" class="message"/>
                <h:message class="message" for="captcha"/>
            </h:form>

        </div>

    </h:body>

</html>

